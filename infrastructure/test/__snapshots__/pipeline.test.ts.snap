// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Pipeline Snapshot 1`] = `
Object {
  "Metadata": Object {
    "cdk_nag": Object {
      "rules_to_suppress": Array [
        Object {
          "id": "AwsSolutions-IAM4",
          "reason": "Allow CDK Pipeline",
        },
        Object {
          "id": "AwsSolutions-IAM5",
          "reason": "Allow CDK Pipeline",
        },
        Object {
          "id": "AwsSolutions-S1",
          "reason": "Allow CDK Pipeline",
        },
        Object {
          "id": "AwsSolutions-KMS5",
          "reason": "Allow CDK Pipeline",
        },
        Object {
          "id": "AwsSolutions-CB3",
          "reason": "Allow CDK Pipeline",
        },
      ],
    },
  },
  "Parameters": Object {
    "BootstrapVersion": Object {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Resources": Object {
    "CacheBucket41D9D0B0": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "SSEAlgorithm": "AES256",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "CacheBucketPolicyE2F00ED4": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "CacheBucket41D9D0B0",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "CacheBucket41D9D0B0",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "CacheBucket41D9D0B0",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "SourceCfnRepositoryAssociation738A9DD0": Object {
      "Properties": Object {
        "Name": Object {
          "Fn::GetAtt": Array [
            "SourceCodeCommitRepoF7A67B81",
            "Name",
          ],
        },
        "Type": "CodeCommit",
      },
      "Type": "AWS::CodeGuruReviewer::RepositoryAssociation",
    },
    "SourceCodeCommitRepoF7A67B81": Object {
      "Properties": Object {
        "Code": Object {
          "BranchName": "main",
          "S3": Object {
            "Bucket": "cdk-hnb659fds-assets-dummy-us-east-1",
            "Key": "code.zip",
          },
        },
        "RepositoryName": "dpra",
      },
      "Type": "AWS::CodeCommit::Repository",
    },
    "SourceCodeCommitRepoTestStackdpraPipelineC7D32361mainEventRule9687DE1A": Object {
      "Properties": Object {
        "EventPattern": Object {
          "detail": Object {
            "event": Array [
              "referenceCreated",
              "referenceUpdated",
            ],
            "referenceName": Array [
              "main",
            ],
          },
          "detail-type": Array [
            "CodeCommit Repository State Change",
          ],
          "resources": Array [
            Object {
              "Fn::GetAtt": Array [
                "SourceCodeCommitRepoF7A67B81",
                "Arn",
              ],
            },
          ],
          "source": Array [
            "aws.codecommit",
          ],
        },
        "State": "ENABLED",
        "Targets": Array [
          Object {
            "Arn": Object {
              "Fn::Join": Array [
                "",
                Array [
                  "arn:",
                  Object {
                    "Ref": "AWS::Partition",
                  },
                  ":codepipeline:us-east-1:dummy:",
                  Object {
                    "Ref": "dpraPipelineA37272C5",
                  },
                ],
              ],
            },
            "Id": "Target0",
            "RoleArn": Object {
              "Fn::GetAtt": Array [
                "dpraPipelineEventsRole20F37AC4",
                "Arn",
              ],
            },
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "dpraAssetsDockerAsset0484713F": Object {
      "Properties": Object {
        "Artifacts": Object {
          "Type": "CODEPIPELINE",
        },
        "Cache": Object {
          "Type": "NO_CACHE",
        },
        "Description": "Pipeline step TestStack/Pipeline/Assets/DockerAsset",
        "EncryptionKey": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
            "Arn",
          ],
        },
        "Environment": Object {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:6.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": true,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": Object {
          "Fn::GetAtt": Array [
            "dpraAssetsDockerRoleD2E5B5C0",
            "Arn",
          ],
        },
        "Source": Object {
          "BuildSpec": "buildspec-c8a7f70c4daea4977cf83f2a1fd69d208ae41fbb91-DockerAsset.yaml",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "dpraAssetsDockerRoleD2E5B5C0": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codebuild.amazonaws.com",
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraAssetsDockerRoleDefaultPolicy8569E072": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":logs:us-east-1:dummy:log-group:/aws/codebuild/*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Sub": "arn:\${AWS::Partition}:iam::000000000000:role/cdk-hnb659fds-image-publishing-role-000000000000-us-east-1",
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineArtifactsBucket84E0E6DD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineArtifactsBucket84E0E6DD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraAssetsDockerRoleDefaultPolicy8569E072",
        "Roles": Array [
          Object {
            "Ref": "dpraAssetsDockerRoleD2E5B5C0",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dpraAssetsFileAsset046737F9": Object {
      "Properties": Object {
        "Artifacts": Object {
          "Type": "CODEPIPELINE",
        },
        "Cache": Object {
          "Type": "NO_CACHE",
        },
        "Description": "Pipeline step TestStack/Pipeline/Assets/FileAsset",
        "EncryptionKey": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
            "Arn",
          ],
        },
        "Environment": Object {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:6.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": Object {
          "Fn::GetAtt": Array [
            "dpraAssetsFileRoleEC003916",
            "Arn",
          ],
        },
        "Source": Object {
          "BuildSpec": "buildspec-c8a7f70c4daea4977cf83f2a1fd69d208ae41fbb91-FileAsset.yaml",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "dpraAssetsFileRoleDefaultPolicy5243F3D8": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":logs:us-east-1:dummy:log-group:/aws/codebuild/*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Sub": "arn:\${AWS::Partition}:iam::000000000000:role/cdk-hnb659fds-file-publishing-role-000000000000-us-east-1",
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineArtifactsBucket84E0E6DD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineArtifactsBucket84E0E6DD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraAssetsFileRoleDefaultPolicy5243F3D8",
        "Roles": Array [
          Object {
            "Ref": "dpraAssetsFileRoleEC003916",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dpraAssetsFileRoleEC003916": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codebuild.amazonaws.com",
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraCodeBuildActionRole9B201D8D": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Condition": Object {
                "Bool": Object {
                  "aws:ViaAWSService": "codepipeline.amazonaws.com",
                },
              },
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraCodeBuildActionRoleDefaultPolicy366A4E7C": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineBuildTrivyScan8F04AA36",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineBuild4AA585EE",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineBuildSynthCdkBuildProjectE42BC4AD",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraUpdatePipelineSelfMutation6FD2CD78",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraAssetsDockerAsset0484713F",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraAssetsFileAsset046737F9",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineDevuseast1E2ETestE2ETestCA7BE9B8",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "codebuild:BatchGetBuilds",
                "codebuild:StartBuild",
                "codebuild:StopBuild",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineStaginguseast1PerformanceTestPerformanceTest52FACFA3",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraCodeBuildActionRoleDefaultPolicy366A4E7C",
        "Roles": Array [
          Object {
            "Ref": "dpraCodeBuildActionRole9B201D8D",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dpraPipelineA37272C5": Object {
      "DependsOn": Array [
        "dpraPipelineRoleDefaultPolicyC5556B4F",
        "dpraPipelineRoleA720A341",
      ],
      "Properties": Object {
        "ArtifactStore": Object {
          "EncryptionKey": Object {
            "Id": Object {
              "Fn::GetAtt": Array [
                "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                "Arn",
              ],
            },
            "Type": "KMS",
          },
          "Location": Object {
            "Ref": "dpraPipelineArtifactsBucket84E0E6DD",
          },
          "Type": "S3",
        },
        "Name": "dpra",
        "RestartExecutionOnUpdate": true,
        "RoleArn": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineRoleA720A341",
            "Arn",
          ],
        },
        "Stages": Array [
          Object {
            "Actions": Array [
              Object {
                "ActionTypeId": Object {
                  "Category": "Source",
                  "Owner": "AWS",
                  "Provider": "CodeCommit",
                  "Version": "1",
                },
                "Configuration": Object {
                  "BranchName": "main",
                  "PollForSourceChanges": false,
                  "RepositoryName": Object {
                    "Fn::GetAtt": Array [
                      "SourceCodeCommitRepoF7A67B81",
                      "Name",
                    ],
                  },
                },
                "Name": Object {
                  "Fn::GetAtt": Array [
                    "SourceCodeCommitRepoF7A67B81",
                    "Name",
                  ],
                },
                "Namespace": "Source@c81247736ebecb146a1d9a5ee9d4686c00c8806055",
                "OutputArtifacts": Array [
                  Object {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineSourceCodeCommitCodePipelineActionRole4C8FFF22",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
            ],
            "Name": "Source",
          },
          Object {
            "Actions": Array [
              Object {
                "ActionTypeId": Object {
                  "Category": "Invoke",
                  "Owner": "AWS",
                  "Provider": "Lambda",
                  "Version": "1",
                },
                "Configuration": Object {
                  "FunctionName": Object {
                    "Ref": "dpraPipelineCodeGuruQualityCodeGuruLambdaD4B417FF",
                  },
                  "UserParameters": "{\\"RepositoryName\\":\\"#{Source@c81247736ebecb146a1d9a5ee9d4686c00c8806055.RepositoryName}\\",\\"CommitId\\":\\"#{Source@c81247736ebecb146a1d9a5ee9d4686c00c8806055.CommitId}\\",\\"RecommendationCategories\\":\\"AWSBestPractices,CodeInconsistencies,CodeMaintenanceIssues,DuplicateCode,InputValidations,ConcurrencyIssues,ResourceLeaks,JavaBestPractices,PythonBestPractices\\",\\"MaxSuppressedLinesOfCodeCount\\":\\"0\\",\\"MaxCriticalRecommendations\\":\\"0\\",\\"MaxHighRecommendations\\":\\"0\\",\\"MaxInfoRecommendations\\":\\"0\\",\\"MaxMediumRecommendations\\":\\"0\\",\\"MaxLowRecommendations\\":\\"0\\",\\"ReviewRequired\\":\\"false\\"}",
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "CodeGuruQuality",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineBuildCodeGuruQualityCodePipelineActionRole88767DCD",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Invoke",
                  "Owner": "AWS",
                  "Provider": "Lambda",
                  "Version": "1",
                },
                "Configuration": Object {
                  "FunctionName": Object {
                    "Ref": "dpraPipelineCodeGuruSecurityCodeGuruLambda6A5A094A",
                  },
                  "UserParameters": "{\\"RepositoryName\\":\\"#{Source@c81247736ebecb146a1d9a5ee9d4686c00c8806055.RepositoryName}\\",\\"CommitId\\":\\"#{Source@c81247736ebecb146a1d9a5ee9d4686c00c8806055.CommitId}\\",\\"RecommendationCategories\\":\\"SecurityIssues\\",\\"MaxSuppressedLinesOfCodeCount\\":\\"0\\",\\"MaxCriticalRecommendations\\":\\"0\\",\\"MaxHighRecommendations\\":\\"0\\",\\"MaxInfoRecommendations\\":\\"0\\",\\"MaxMediumRecommendations\\":\\"0\\",\\"MaxLowRecommendations\\":\\"0\\",\\"ReviewRequired\\":\\"false\\"}",
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "CodeGuruSecurity",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineBuildCodeGuruSecurityCodePipelineActionRole0519BBFB",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": Object {
                  "EnvironmentVariables": "[{\\"name\\":\\"_PROJECT_CONFIG_HASH\\",\\"type\\":\\"PLAINTEXT\\",\\"value\\":\\"0b91b088af2720ecd748ad4a38e9f2278349f6b28d1d344ee30afe925e8326e9\\"}]",
                  "ProjectName": Object {
                    "Ref": "dpraPipelineBuildTrivyScan8F04AA36",
                  },
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "TrivyScan",
                "OutputArtifacts": Array [
                  Object {
                    "Name": "TrivyScan_Output",
                  },
                ],
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "dpraCodeBuildActionRole9B201D8D",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": Object {
                  "EnvironmentVariables": "[{\\"name\\":\\"_PROJECT_CONFIG_HASH\\",\\"type\\":\\"PLAINTEXT\\",\\"value\\":\\"63e0dfb750b1a7038bc7848fb882fa63b7307e33c8922a4bab90e307cc7808c9\\"}]",
                  "ProjectName": Object {
                    "Ref": "dpraPipelineBuild4AA585EE",
                  },
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "Build",
                "OutputArtifacts": Array [
                  Object {
                    "Name": "Build_Output",
                  },
                ],
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "dpraCodeBuildActionRole9B201D8D",
                    "Arn",
                  ],
                },
                "RunOrder": 2,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": Object {
                  "EnvironmentVariables": "[{\\"name\\":\\"_PROJECT_CONFIG_HASH\\",\\"type\\":\\"PLAINTEXT\\",\\"value\\":\\"257b619bfd66bed361fc2c779afa4d7043092ea89bb03baca93c4686fe403f5d\\"}]",
                  "ProjectName": Object {
                    "Ref": "dpraPipelineBuildSynthCdkBuildProjectE42BC4AD",
                  },
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "Build_Output",
                  },
                ],
                "Name": "Synth",
                "OutputArtifacts": Array [
                  Object {
                    "Name": "Synth_Output",
                  },
                ],
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "dpraCodeBuildActionRole9B201D8D",
                    "Arn",
                  ],
                },
                "RunOrder": 3,
              },
            ],
            "Name": "Build",
          },
          Object {
            "Actions": Array [
              Object {
                "ActionTypeId": Object {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": Object {
                  "EnvironmentVariables": "[{\\"name\\":\\"_PROJECT_CONFIG_HASH\\",\\"type\\":\\"PLAINTEXT\\",\\"value\\":\\"95a8e1287e596cb484b4933d87728e035dc17a374a83850fdd2e1678a7c4691a\\"}]",
                  "ProjectName": Object {
                    "Ref": "dpraUpdatePipelineSelfMutation6FD2CD78",
                  },
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "SelfMutate",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "dpraCodeBuildActionRole9B201D8D",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
            ],
            "Name": "UpdatePipeline",
          },
          Object {
            "Actions": Array [
              Object {
                "ActionTypeId": Object {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ProjectName": Object {
                    "Ref": "dpraAssetsDockerAsset0484713F",
                  },
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "DockerAsset",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "dpraCodeBuildActionRole9B201D8D",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ProjectName": Object {
                    "Ref": "dpraAssetsFileAsset046737F9",
                  },
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "FileAsset",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "dpraCodeBuildActionRole9B201D8D",
                    "Arn",
                  ],
                },
                "RunOrder": 1,
              },
            ],
            "Name": "Assets",
          },
          Object {
            "Actions": Array [
              Object {
                "ActionTypeId": Object {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ActionMode": "CHANGE_SET_REPLACE",
                  "Capabilities": "CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND",
                  "ChangeSetName": "PipelineChange",
                  "RoleArn": Object {
                    "Fn::Join": Array [
                      "",
                      Array [
                        "arn:",
                        Object {
                          "Ref": "AWS::Partition",
                        },
                        ":iam::000000000000:role/cdk-hnb659fds-cfn-exec-role-000000000000-us-east-1",
                      ],
                    ],
                  },
                  "StackName": "Dev-us-east-1-dpra",
                  "TemplateConfiguration": "Synth_Output::assembly-TestStack-dpra-Dev-us-east-1/TestStackdpraDevuseast1dpra430A5A62.template.json.config.json",
                  "TemplatePath": "Synth_Output::assembly-TestStack-dpra-Dev-us-east-1/TestStackdpraDevuseast1dpra430A5A62.template.json",
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "dpra.Prepare",
                "RoleArn": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                    ],
                  ],
                },
                "RunOrder": 1,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ActionMode": "CHANGE_SET_EXECUTE",
                  "ChangeSetName": "PipelineChange",
                  "StackName": "Dev-us-east-1-dpra",
                },
                "Name": "dpra.Deploy",
                "Namespace": "TestStackdpraDevuseast1dpra430A5A62",
                "RoleArn": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                    ],
                  ],
                },
                "RunOrder": 2,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": Object {
                  "EnvironmentVariables": "[{\\"name\\":\\"ENDPOINT\\",\\"type\\":\\"PLAINTEXT\\",\\"value\\":\\"#{TestStackdpraDevuseast1dpra430A5A62.endpointUrl}\\"}]",
                  "ProjectName": Object {
                    "Ref": "dpraPipelineDevuseast1E2ETestE2ETestCA7BE9B8",
                  },
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "E2E_Test",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "dpraCodeBuildActionRole9B201D8D",
                    "Arn",
                  ],
                },
                "RunOrder": 3,
              },
            ],
            "Name": "Dev-us-east-1",
          },
          Object {
            "Actions": Array [
              Object {
                "ActionTypeId": Object {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ActionMode": "CHANGE_SET_REPLACE",
                  "Capabilities": "CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND",
                  "ChangeSetName": "PipelineChange",
                  "RoleArn": Object {
                    "Fn::Join": Array [
                      "",
                      Array [
                        "arn:",
                        Object {
                          "Ref": "AWS::Partition",
                        },
                        ":iam::000000000000:role/cdk-hnb659fds-cfn-exec-role-000000000000-us-east-1",
                      ],
                    ],
                  },
                  "StackName": "Staging-us-east-1-dpra",
                  "TemplateConfiguration": "Synth_Output::assembly-TestStack-dpra-Staging-us-east-1/TestStackdpraStaginguseast1dpraF670735D.template.json.config.json",
                  "TemplatePath": "Synth_Output::assembly-TestStack-dpra-Staging-us-east-1/TestStackdpraStaginguseast1dpraF670735D.template.json",
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "dpra.Prepare",
                "RoleArn": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                    ],
                  ],
                },
                "RunOrder": 1,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ActionMode": "CHANGE_SET_EXECUTE",
                  "ChangeSetName": "PipelineChange",
                  "StackName": "Staging-us-east-1-dpra",
                },
                "Name": "dpra.Deploy",
                "Namespace": "TestStackdpraStaginguseast1dpraF670735D",
                "RoleArn": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                    ],
                  ],
                },
                "RunOrder": 2,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Build",
                  "Owner": "AWS",
                  "Provider": "CodeBuild",
                  "Version": "1",
                },
                "Configuration": Object {
                  "EnvironmentVariables": "[{\\"name\\":\\"ENDPOINT\\",\\"type\\":\\"PLAINTEXT\\",\\"value\\":\\"#{TestStackdpraStaginguseast1dpraF670735D.endpointUrl}\\"}]",
                  "ProjectName": Object {
                    "Ref": "dpraPipelineStaginguseast1PerformanceTestPerformanceTest52FACFA3",
                  },
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "c81247736ebecb146a1d9a5ee9d4686c00c8806055_Source",
                  },
                ],
                "Name": "Performance_Test",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "dpraCodeBuildActionRole9B201D8D",
                    "Arn",
                  ],
                },
                "RunOrder": 3,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Approval",
                  "Owner": "AWS",
                  "Provider": "Manual",
                  "Version": "1",
                },
                "Name": "PromoteToProd",
                "RoleArn": Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineStaginguseast1PromoteToProdCodePipelineActionRoleCCB88BE5",
                    "Arn",
                  ],
                },
                "RunOrder": 4,
              },
            ],
            "Name": "Staging-us-east-1",
          },
          Object {
            "Actions": Array [
              Object {
                "ActionTypeId": Object {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ActionMode": "CHANGE_SET_REPLACE",
                  "Capabilities": "CAPABILITY_NAMED_IAM,CAPABILITY_AUTO_EXPAND",
                  "ChangeSetName": "PipelineChange",
                  "RoleArn": Object {
                    "Fn::Join": Array [
                      "",
                      Array [
                        "arn:",
                        Object {
                          "Ref": "AWS::Partition",
                        },
                        ":iam::000000000000:role/cdk-hnb659fds-cfn-exec-role-000000000000-us-east-1",
                      ],
                    ],
                  },
                  "StackName": "Prod-us-east-1-dpra",
                  "TemplateConfiguration": "Synth_Output::assembly-TestStack-dpra-Prod-us-east-1/TestStackdpraProduseast1dpraB76E0AC4.template.json.config.json",
                  "TemplatePath": "Synth_Output::assembly-TestStack-dpra-Prod-us-east-1/TestStackdpraProduseast1dpraB76E0AC4.template.json",
                },
                "InputArtifacts": Array [
                  Object {
                    "Name": "Synth_Output",
                  },
                ],
                "Name": "Prepare",
                "RoleArn": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                    ],
                  ],
                },
                "RunOrder": 1,
              },
              Object {
                "ActionTypeId": Object {
                  "Category": "Deploy",
                  "Owner": "AWS",
                  "Provider": "CloudFormation",
                  "Version": "1",
                },
                "Configuration": Object {
                  "ActionMode": "CHANGE_SET_EXECUTE",
                  "ChangeSetName": "PipelineChange",
                  "StackName": "Prod-us-east-1-dpra",
                },
                "Name": "Deploy",
                "RoleArn": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                    ],
                  ],
                },
                "RunOrder": 2,
              },
            ],
            "Name": "Prod-us-east-1",
          },
        ],
      },
      "Type": "AWS::CodePipeline::Pipeline",
    },
    "dpraPipelineArtifactsBucket84E0E6DD": Object {
      "DeletionPolicy": "Retain",
      "Properties": Object {
        "BucketEncryption": Object {
          "ServerSideEncryptionConfiguration": Array [
            Object {
              "ServerSideEncryptionByDefault": Object {
                "KMSMasterKeyID": Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                    "Arn",
                  ],
                },
                "SSEAlgorithm": "aws:kms",
              },
            },
          ],
        },
        "PublicAccessBlockConfiguration": Object {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Retain",
    },
    "dpraPipelineArtifactsBucketEncryptionKeyAlias5C17B89A": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "AliasName": "alias/codepipeline-teststackdprapipelinec7d32361",
        "TargetKeyId": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
            "Arn",
          ],
        },
      },
      "Type": "AWS::KMS::Alias",
      "UpdateReplacePolicy": "Delete",
    },
    "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4": Object {
      "DeletionPolicy": "Delete",
      "Properties": Object {
        "KeyPolicy": Object {
          "Statement": Array [
            Object {
              "Action": "kms:*",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                    ],
                  ],
                },
              },
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::KMS::Key",
      "UpdateReplacePolicy": "Delete",
    },
    "dpraPipelineArtifactsBucketPolicy8132841B": Object {
      "Properties": Object {
        "Bucket": Object {
          "Ref": "dpraPipelineArtifactsBucket84E0E6DD",
        },
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "s3:*",
              "Condition": Object {
                "Bool": Object {
                  "aws:SecureTransport": "false",
                },
              },
              "Effect": "Deny",
              "Principal": Object {
                "AWS": "*",
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineArtifactsBucket84E0E6DD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineArtifactsBucket84E0E6DD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                    ],
                  ],
                },
              },
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineArtifactsBucket84E0E6DD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineArtifactsBucket84E0E6DD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "dpraPipelineBuild4AA585EE": Object {
      "Properties": Object {
        "Artifacts": Object {
          "Type": "CODEPIPELINE",
        },
        "Cache": Object {
          "Location": Object {
            "Fn::Join": Array [
              "/",
              Array [
                Object {
                  "Ref": "CacheBucket41D9D0B0",
                },
                Object {
                  "Ref": "AWS::NoValue",
                },
              ],
            ],
          },
          "Type": "S3",
        },
        "Description": "Pipeline step TestStack/Pipeline/Build/Build",
        "EncryptionKey": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
            "Arn",
          ],
        },
        "Environment": Object {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:6.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineBuildRole661D0C2D",
            "Arn",
          ],
        },
        "Source": Object {
          "BuildSpec": "{
  \\"env\\": {
    \\"variables\\": {
      \\"MAVEN_OPTS\\": \\"-XX:+TieredCompilation -XX:TieredStopAtLevel=1\\",
      \\"MAVEN_ARGS\\": \\"--batch-mode --no-transfer-progress\\"
    }
  },
  \\"phases\\": {
    \\"install\\": {
      \\"runtime-versions\\": {
        \\"java\\": \\"corretto17\\"
      }
    },
    \\"build\\": {
      \\"commands\\": [
        \\"cd fruits-app && mvn \${MAVEN_ARGS} clean verify\\"
      ]
    }
  },
  \\"cache\\": {
    \\"paths\\": [
      \\"/root/.m2/**/*\\"
    ]
  },
  \\"reports\\": {
    \\"unit\\": {
      \\"files\\": [
        \\"fruits-app/target/surefire-reports/*.xml\\"
      ],
      \\"file-format\\": \\"JUNITXML\\"
    },
    \\"integration\\": {
      \\"files\\": [
        \\"fruits-app/target/soapui-reports/*.xml\\"
      ],
      \\"file-format\\": \\"JUNITXML\\"
    }
  },
  \\"version\\": \\"0.2\\",
  \\"artifacts\\": {
    \\"base-directory\\": \\".\\",
    \\"files\\": [
      \\"**/*\\"
    ]
  }
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "dpraPipelineBuildCodeGuruQualityCodePipelineActionRole88767DCD": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraPipelineBuildCodeGuruQualityCodePipelineActionRoleDefaultPolicyE6BCD207": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "lambda:ListFunctions",
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineCodeGuruQualityCodeGuruLambdaD4B417FF",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineCodeGuruQualityCodeGuruLambdaD4B417FF",
                          "Arn",
                        ],
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineArtifactsBucket84E0E6DD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineArtifactsBucket84E0E6DD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraPipelineBuildCodeGuruQualityCodePipelineActionRoleDefaultPolicyE6BCD207",
        "Roles": Array [
          Object {
            "Ref": "dpraPipelineBuildCodeGuruQualityCodePipelineActionRole88767DCD",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dpraPipelineBuildCodeGuruSecurityCodePipelineActionRole0519BBFB": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraPipelineBuildCodeGuruSecurityCodePipelineActionRoleDefaultPolicy8486250B": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "lambda:ListFunctions",
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineCodeGuruSecurityCodeGuruLambda6A5A094A",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineCodeGuruSecurityCodeGuruLambda6A5A094A",
                          "Arn",
                        ],
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineArtifactsBucket84E0E6DD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineArtifactsBucket84E0E6DD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraPipelineBuildCodeGuruSecurityCodePipelineActionRoleDefaultPolicy8486250B",
        "Roles": Array [
          Object {
            "Ref": "dpraPipelineBuildCodeGuruSecurityCodePipelineActionRole0519BBFB",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dpraPipelineBuildRole661D0C2D": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraPipelineBuildRoleDefaultPolicy31072C56": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "CacheBucket41D9D0B0",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "CacheBucket41D9D0B0",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "dpraPipelineBuild4AA585EE",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "dpraPipelineBuild4AA585EE",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    Object {
                      "Ref": "dpraPipelineBuild4AA585EE",
                    },
                    "-*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineArtifactsBucket84E0E6DD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineArtifactsBucket84E0E6DD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraPipelineBuildRoleDefaultPolicy31072C56",
        "Roles": Array [
          Object {
            "Ref": "dpraPipelineBuildRole661D0C2D",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dpraPipelineBuildSynthCdkBuildProjectE42BC4AD": Object {
      "Properties": Object {
        "Artifacts": Object {
          "Type": "CODEPIPELINE",
        },
        "Cache": Object {
          "Type": "NO_CACHE",
        },
        "Description": "Pipeline step TestStack/Pipeline/Build/Synth",
        "EncryptionKey": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
            "Arn",
          ],
        },
        "Environment": Object {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:6.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": true,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineBuildSynthCdkBuildProjectRoleD64E4ADA",
            "Arn",
          ],
        },
        "Source": Object {
          "BuildSpec": "{
  \\"phases\\": {
    \\"install\\": {
      \\"runtime-versions\\": {
        \\"nodejs\\": 16
      }
    },
    \\"build\\": {
      \\"commands\\": [
        \\"yarn install --frozen-lockfile\\",
        \\"npm test\\",
        \\"npm run build\\"
      ]
    }
  },
  \\"version\\": \\"0.2\\",
  \\"artifacts\\": {
    \\"base-directory\\": \\"cdk.out\\",
    \\"files\\": [
      \\"**/*\\"
    ]
  }
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "dpraPipelineBuildSynthCdkBuildProjectRoleD64E4ADA": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraPipelineBuildSynthCdkBuildProjectRoleDefaultPolicyA3AF1B14": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "dpraPipelineBuildSynthCdkBuildProjectE42BC4AD",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "dpraPipelineBuildSynthCdkBuildProjectE42BC4AD",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    Object {
                      "Ref": "dpraPipelineBuildSynthCdkBuildProjectE42BC4AD",
                    },
                    "-*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineArtifactsBucket84E0E6DD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineArtifactsBucket84E0E6DD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraPipelineBuildSynthCdkBuildProjectRoleDefaultPolicyA3AF1B14",
        "Roles": Array [
          Object {
            "Ref": "dpraPipelineBuildSynthCdkBuildProjectRoleD64E4ADA",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dpraPipelineBuildTrivyScan8F04AA36": Object {
      "Properties": Object {
        "Artifacts": Object {
          "Type": "CODEPIPELINE",
        },
        "Cache": Object {
          "Type": "NO_CACHE",
        },
        "Description": "Pipeline step TestStack/Pipeline/Build/TrivyScan",
        "EncryptionKey": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
            "Arn",
          ],
        },
        "Environment": Object {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:6.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineBuildTrivyScanRole2D686F68",
            "Arn",
          ],
        },
        "Source": Object {
          "BuildSpec": "{
  \\"phases\\": {
    \\"pre_build\\": {
      \\"commands\\": [
        \\"cd fruits-app\\"
      ]
    },
    \\"install\\": {
      \\"commands\\": [
        \\"curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh | sh -s -- -b /usr/local/bin \\"
      ]
    },
    \\"build\\": {
      \\"commands\\": [
        \\"trivy filesystem --exit-code 1 --no-progress --ignore-unfixed --format cyclonedx --output sbom.json --severity CRITICAL,HIGH --scanners vuln,config,secret .\\"
      ]
    }
  },
  \\"version\\": \\"0.2\\",
  \\"artifacts\\": {
    \\"base-directory\\": \\".\\",
    \\"files\\": [
      \\"**/*\\"
    ]
  }
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "dpraPipelineBuildTrivyScanRole2D686F68": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraPipelineBuildTrivyScanRoleDefaultPolicyB06883D9": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "dpraPipelineBuildTrivyScan8F04AA36",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "dpraPipelineBuildTrivyScan8F04AA36",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    Object {
                      "Ref": "dpraPipelineBuildTrivyScan8F04AA36",
                    },
                    "-*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineArtifactsBucket84E0E6DD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineArtifactsBucket84E0E6DD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraPipelineBuildTrivyScanRoleDefaultPolicyB06883D9",
        "Roles": Array [
          Object {
            "Ref": "dpraPipelineBuildTrivyScanRole2D686F68",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dpraPipelineCodeGuruQualityCodeGuruLambdaD4B417FF": Object {
      "DependsOn": Array [
        "dpraPipelineCodeGuruQualityCodeGuruLambdaServiceRoleDefaultPolicy3E88F735",
        "dpraPipelineCodeGuruQualityCodeGuruLambdaServiceRole3B24B9AD",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": "cdk-hnb659fds-assets-dummy-us-east-1",
          "S3Key": "code.zip",
        },
        "Environment": Object {
          "Variables": Object {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
          },
        },
        "Handler": "index.main",
        "Role": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineCodeGuruQualityCodeGuruLambdaServiceRole3B24B9AD",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "dpraPipelineCodeGuruQualityCodeGuruLambdaServiceRole3B24B9AD": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraPipelineCodeGuruQualityCodeGuruLambdaServiceRoleDefaultPolicy3E88F735": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "codeguru-reviewer:ListCodeReviews",
                "codeguru-reviewer:ListRecommendations",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "codepipeline:PutJobSuccessResult",
                "codepipeline:PutJobFailureResult",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraPipelineCodeGuruQualityCodeGuruLambdaServiceRoleDefaultPolicy3E88F735",
        "Roles": Array [
          Object {
            "Ref": "dpraPipelineCodeGuruQualityCodeGuruLambdaServiceRole3B24B9AD",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dpraPipelineCodeGuruSecurityCodeGuruLambda6A5A094A": Object {
      "DependsOn": Array [
        "dpraPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleDefaultPolicyC4CE1474",
        "dpraPipelineCodeGuruSecurityCodeGuruLambdaServiceRole698C8703",
      ],
      "Properties": Object {
        "Code": Object {
          "S3Bucket": "cdk-hnb659fds-assets-dummy-us-east-1",
          "S3Key": "code.zip",
        },
        "Environment": Object {
          "Variables": Object {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
          },
        },
        "Handler": "index.main",
        "Role": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineCodeGuruSecurityCodeGuruLambdaServiceRole698C8703",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
        "Timeout": 60,
      },
      "Type": "AWS::Lambda::Function",
    },
    "dpraPipelineCodeGuruSecurityCodeGuruLambdaServiceRole698C8703": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": Array [
          Object {
            "Fn::Join": Array [
              "",
              Array [
                "arn:",
                Object {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleDefaultPolicyC4CE1474": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "codeguru-reviewer:ListCodeReviews",
                "codeguru-reviewer:ListRecommendations",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "codepipeline:PutJobSuccessResult",
                "codepipeline:PutJobFailureResult",
              ],
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraPipelineCodeGuruSecurityCodeGuruLambdaServiceRoleDefaultPolicyC4CE1474",
        "Roles": Array [
          Object {
            "Ref": "dpraPipelineCodeGuruSecurityCodeGuruLambdaServiceRole698C8703",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dpraPipelineDevuseast1E2ETestE2ETestCA7BE9B8": Object {
      "Properties": Object {
        "Artifacts": Object {
          "Type": "CODEPIPELINE",
        },
        "Cache": Object {
          "Location": Object {
            "Fn::Join": Array [
              "/",
              Array [
                Object {
                  "Ref": "CacheBucket41D9D0B0",
                },
                Object {
                  "Ref": "AWS::NoValue",
                },
              ],
            ],
          },
          "Type": "S3",
        },
        "Description": "Pipeline step TestStack/Pipeline/Dev-us-east-1/E2E_Test",
        "EncryptionKey": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
            "Arn",
          ],
        },
        "Environment": Object {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:6.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineDevuseast1E2ETestE2ETestRole44872B97",
            "Arn",
          ],
        },
        "Source": Object {
          "BuildSpec": "{
  \\"env\\": {
    \\"variables\\": {
      \\"MAVEN_OPTS\\": \\"-XX:+TieredCompilation -XX:TieredStopAtLevel=1\\",
      \\"MAVEN_ARGS\\": \\"--batch-mode --no-transfer-progress\\"
    }
  },
  \\"phases\\": {
    \\"install\\": {
      \\"runtime-versions\\": {
        \\"java\\": \\"corretto17\\"
      }
    },
    \\"build\\": {
      \\"commands\\": [
        \\"cd fruits-app && mvn \${MAVEN_ARGS} soapui:test -Dsoapui.endpoint=\${ENDPOINT}\\"
      ]
    }
  },
  \\"cache\\": {
    \\"paths\\": [
      \\"/root/.m2/**/*\\"
    ]
  },
  \\"reports\\": {
    \\"e2e\\": {
      \\"files\\": [
        \\"target/soapui-reports/*.xml\\"
      ],
      \\"file-format\\": \\"JUNITXML\\"
    }
  },
  \\"version\\": \\"0.2\\"
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "dpraPipelineDevuseast1E2ETestE2ETestRole44872B97": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraPipelineDevuseast1E2ETestE2ETestRoleDefaultPolicyE09A8B01": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "CacheBucket41D9D0B0",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "CacheBucket41D9D0B0",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "dpraPipelineDevuseast1E2ETestE2ETestCA7BE9B8",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "dpraPipelineDevuseast1E2ETestE2ETestCA7BE9B8",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    Object {
                      "Ref": "dpraPipelineDevuseast1E2ETestE2ETestCA7BE9B8",
                    },
                    "-*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineArtifactsBucket84E0E6DD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineArtifactsBucket84E0E6DD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraPipelineDevuseast1E2ETestE2ETestRoleDefaultPolicyE09A8B01",
        "Roles": Array [
          Object {
            "Ref": "dpraPipelineDevuseast1E2ETestE2ETestRole44872B97",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dpraPipelineEventsRole20F37AC4": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "events.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraPipelineEventsRoleDefaultPolicy691F8757": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "codepipeline:StartPipelineExecution",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codepipeline:us-east-1:dummy:",
                    Object {
                      "Ref": "dpraPipelineA37272C5",
                    },
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraPipelineEventsRoleDefaultPolicy691F8757",
        "Roles": Array [
          Object {
            "Ref": "dpraPipelineEventsRole20F37AC4",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dpraPipelineRoleA720A341": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codepipeline.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraPipelineRoleDefaultPolicyC5556B4F": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineArtifactsBucket84E0E6DD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineArtifactsBucket84E0E6DD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineSourceCodeCommitCodePipelineActionRole4C8FFF22",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineBuildCodeGuruQualityCodePipelineActionRole88767DCD",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineBuildCodeGuruSecurityCodePipelineActionRole0519BBFB",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraCodeBuildActionRole9B201D8D",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":iam::000000000000:role/cdk-hnb659fds-deploy-role-000000000000-us-east-1",
                  ],
                ],
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineStaginguseast1PromoteToProdCodePipelineActionRoleCCB88BE5",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraPipelineRoleDefaultPolicyC5556B4F",
        "Roles": Array [
          Object {
            "Ref": "dpraPipelineRoleA720A341",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dpraPipelineSourceCodeCommitCodePipelineActionRole4C8FFF22": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraPipelineSourceCodeCommitCodePipelineActionRoleDefaultPolicyD1D046DD": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineArtifactsBucket84E0E6DD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineArtifactsBucket84E0E6DD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "codecommit:GetBranch",
                "codecommit:GetCommit",
                "codecommit:UploadArchive",
                "codecommit:GetUploadArchiveStatus",
                "codecommit:CancelUploadArchive",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "SourceCodeCommitRepoF7A67B81",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraPipelineSourceCodeCommitCodePipelineActionRoleDefaultPolicyD1D046DD",
        "Roles": Array [
          Object {
            "Ref": "dpraPipelineSourceCodeCommitCodePipelineActionRole4C8FFF22",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dpraPipelineStaginguseast1PerformanceTestPerformanceTest52FACFA3": Object {
      "Properties": Object {
        "Artifacts": Object {
          "Type": "CODEPIPELINE",
        },
        "Cache": Object {
          "Location": Object {
            "Fn::Join": Array [
              "/",
              Array [
                Object {
                  "Ref": "CacheBucket41D9D0B0",
                },
                Object {
                  "Ref": "AWS::NoValue",
                },
              ],
            ],
          },
          "Type": "S3",
        },
        "Description": "Pipeline step TestStack/Pipeline/Staging-us-east-1/Performance_Test",
        "EncryptionKey": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
            "Arn",
          ],
        },
        "Environment": Object {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:6.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "ServiceRole": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineStaginguseast1PerformanceTestPerformanceTestRole9648ECAD",
            "Arn",
          ],
        },
        "Source": Object {
          "BuildSpec": "{
  \\"env\\": {
    \\"variables\\": {
      \\"MAVEN_OPTS\\": \\"-XX:+TieredCompilation -XX:TieredStopAtLevel=1\\",
      \\"MAVEN_ARGS\\": \\"--batch-mode --no-transfer-progress\\"
    }
  },
  \\"phases\\": {
    \\"install\\": {
      \\"runtime-versions\\": {
        \\"java\\": \\"corretto17\\"
      }
    },
    \\"build\\": {
      \\"commands\\": [
        \\"cd fruits-app && mvn \${MAVEN_ARGS} compile jmeter:jmeter jmeter:results -Djmeter.endpoint=\${ENDPOINT} -Djmeter.threads=300 -Djmeter.duration=300 -Djmeter.throughput=6000\\"
      ]
    }
  },
  \\"cache\\": {
    \\"paths\\": [
      \\"/root/.m2/**/*\\"
    ]
  },
  \\"version\\": \\"0.2\\"
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "dpraPipelineStaginguseast1PerformanceTestPerformanceTestRole9648ECAD": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraPipelineStaginguseast1PerformanceTestPerformanceTestRoleDefaultPolicyE4A0E09E": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "CacheBucket41D9D0B0",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "CacheBucket41D9D0B0",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "dpraPipelineStaginguseast1PerformanceTestPerformanceTest52FACFA3",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "dpraPipelineStaginguseast1PerformanceTestPerformanceTest52FACFA3",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    Object {
                      "Ref": "dpraPipelineStaginguseast1PerformanceTestPerformanceTest52FACFA3",
                    },
                    "-*",
                  ],
                ],
              },
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineArtifactsBucket84E0E6DD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineArtifactsBucket84E0E6DD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraPipelineStaginguseast1PerformanceTestPerformanceTestRoleDefaultPolicyE4A0E09E",
        "Roles": Array [
          Object {
            "Ref": "dpraPipelineStaginguseast1PerformanceTestPerformanceTestRole9648ECAD",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "dpraPipelineStaginguseast1PromoteToProdCodePipelineActionRoleCCB88BE5": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "AWS": Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":iam::dummy:root",
                    ],
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraUpdatePipelineSelfMutation6FD2CD78": Object {
      "Properties": Object {
        "Artifacts": Object {
          "Type": "CODEPIPELINE",
        },
        "Cache": Object {
          "Type": "NO_CACHE",
        },
        "Description": "Pipeline step TestStack/Pipeline/UpdatePipeline/SelfMutate",
        "EncryptionKey": Object {
          "Fn::GetAtt": Array [
            "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
            "Arn",
          ],
        },
        "Environment": Object {
          "ComputeType": "BUILD_GENERAL1_SMALL",
          "Image": "aws/codebuild/standard:6.0",
          "ImagePullCredentialsType": "CODEBUILD",
          "PrivilegedMode": false,
          "Type": "LINUX_CONTAINER",
        },
        "Name": "dpra-selfupdate",
        "ServiceRole": Object {
          "Fn::GetAtt": Array [
            "dpraUpdatePipelineSelfMutationRole320A3D7D",
            "Arn",
          ],
        },
        "Source": Object {
          "BuildSpec": "{
  \\"version\\": \\"0.2\\",
  \\"phases\\": {
    \\"install\\": {
      \\"commands\\": [
        \\"npm install -g aws-cdk@2\\"
      ]
    },
    \\"build\\": {
      \\"commands\\": [
        \\"cdk -a . deploy TestStack --require-approval=never --verbose\\"
      ]
    }
  }
}",
          "Type": "CODEPIPELINE",
        },
      },
      "Type": "AWS::CodeBuild::Project",
    },
    "dpraUpdatePipelineSelfMutationRole320A3D7D": Object {
      "Properties": Object {
        "AssumeRolePolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": Object {
                "Service": "codebuild.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "dpraUpdatePipelineSelfMutationRoleDefaultPolicyDDDEFE04": Object {
      "Properties": Object {
        "PolicyDocument": Object {
          "Statement": Array [
            Object {
              "Action": Array [
                "logs:CreateLogGroup",
                "logs:CreateLogStream",
                "logs:PutLogEvents",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "dpraUpdatePipelineSelfMutation6FD2CD78",
                      },
                    ],
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      "arn:",
                      Object {
                        "Ref": "AWS::Partition",
                      },
                      ":logs:us-east-1:dummy:log-group:/aws/codebuild/",
                      Object {
                        "Ref": "dpraUpdatePipelineSelfMutation6FD2CD78",
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "codebuild:CreateReportGroup",
                "codebuild:CreateReport",
                "codebuild:UpdateReport",
                "codebuild:BatchPutTestCases",
                "codebuild:BatchPutCodeCoverages",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::Join": Array [
                  "",
                  Array [
                    "arn:",
                    Object {
                      "Ref": "AWS::Partition",
                    },
                    ":codebuild:us-east-1:dummy:report-group/",
                    Object {
                      "Ref": "dpraUpdatePipelineSelfMutation6FD2CD78",
                    },
                    "-*",
                  ],
                ],
              },
            },
            Object {
              "Action": "sts:AssumeRole",
              "Condition": Object {
                "ForAnyValue:StringEquals": Object {
                  "iam:ResourceTag/aws-cdk:bootstrap-role": Array [
                    "image-publishing",
                    "file-publishing",
                    "deploy",
                  ],
                },
              },
              "Effect": "Allow",
              "Resource": "arn:*:iam::dummy:role/*",
            },
            Object {
              "Action": "cloudformation:DescribeStacks",
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": "s3:ListBucket",
              "Effect": "Allow",
              "Resource": "*",
            },
            Object {
              "Action": Array [
                "s3:GetObject*",
                "s3:GetBucket*",
                "s3:List*",
              ],
              "Effect": "Allow",
              "Resource": Array [
                Object {
                  "Fn::GetAtt": Array [
                    "dpraPipelineArtifactsBucket84E0E6DD",
                    "Arn",
                  ],
                },
                Object {
                  "Fn::Join": Array [
                    "",
                    Array [
                      Object {
                        "Fn::GetAtt": Array [
                          "dpraPipelineArtifactsBucket84E0E6DD",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:DescribeKey",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
            Object {
              "Action": Array [
                "kms:Decrypt",
                "kms:Encrypt",
                "kms:ReEncrypt*",
                "kms:GenerateDataKey*",
              ],
              "Effect": "Allow",
              "Resource": Object {
                "Fn::GetAtt": Array [
                  "dpraPipelineArtifactsBucketEncryptionKeyB2BB45B4",
                  "Arn",
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "dpraUpdatePipelineSelfMutationRoleDefaultPolicyDDDEFE04",
        "Roles": Array [
          Object {
            "Ref": "dpraUpdatePipelineSelfMutationRole320A3D7D",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
  },
  "Rules": Object {
    "CheckBootstrapVersion": Object {
      "Assertions": Array [
        Object {
          "Assert": Object {
            "Fn::Not": Array [
              Object {
                "Fn::Contains": Array [
                  Array [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  Object {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;
